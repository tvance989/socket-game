<!doctype html>
<html>
	<head>
		<meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

		<title>Socket.IO game</title>

		<link href="/bower_components/bootstrap/dist/css/bootstrap.min.css" rel="stylesheet">

		<script src="/socket.io/socket.io.js"></script>
		<script src="/bower_components/jquery/dist/jquery.min.js"></script>
    <script src="/bower_components/bootstrap/dist/js/bootstrap.min.js"></script>
	</head>
	<body>
		<script>
			var socket = io();

			socket.on('set button', function(n){
				$("#btn").html(n);
			});

			socket.on('debug', function(msg){
				$("#scores > tbody").html("");
				Object.keys(msg).forEach(function(key){
					$("#scores > tbody").append("<tr><td>"+key+"</td><td>"+msg[key]+"</td></tr>");
				});
				console.log(msg);
			});

			$(function(){
				$("#btn").click(function(){
					socket.emit('button click');
				});
			});
		</script>

		<button id="btn" class="btn btn-default"></button>

		<table id="scores" class="table table-hover">
			<thead>
				<tr>
					<th>User</th>
					<th>Clicks</th>
				</tr>
			</thead>
			<tbody>
			</tbody>
		</table>
	</body>
</html>
