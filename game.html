<!doctype html>
<html>
	<head>
		<meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

		<title>Socket.IO game</title>

		<link href="/bower_components/bootstrap/dist/css/bootstrap.min.css" rel="stylesheet">

		<script src="/socket.io/socket.io.js"></script>
		<script src="/bower_components/jquery/dist/jquery.min.js"></script>
    <script src="/bower_components/bootstrap/dist/js/bootstrap.min.js"></script>
		<script src="/bower_components/EaselJS/lib/easeljs-0.8.2.min.js"></script>
	</head>
	<body onload="init();">
		<canvas id="demoCanvas" width="500" height="300"></canvas>
		<script>
			function init() {
				var stage = new createjs.Stage("demoCanvas");
				var circle = new createjs.Shape();
				circle.graphics.beginFill("DeepSkyBlue").drawCircle(0, 0, 50);
				circle.x = 100;
				circle.y = 100;
				stage.addChild(circle);
				stage.update();
			}
		</script>

		<script>
			var socket = io();

			socket.on('num clicks', function(n){
				$("#btn").html(n);
				if(n == 1) $(".btn-plural").hide();
				else $(".btn-plural").show();
			});

			socket.on('num clients', function(n){
				$("#clients").html(n);
				if(n == 1) {
					$(".client-singular").show();
					$(".client-plural").hide();
				} else {
					$(".client-singular").hide();
					$(".client-plural").show();
				}
			});

			socket.on('debug', function(msg){
			});

			$(function(){
				$("#btn").click(function(){
					socket.emit('button click');
				});
			});
		</script>

		<p>This button has been pressed <button id="btn" class="btn btn-default btn-lg"></button> time<span class="btn-plural">s</span>.</p>
		<p>There <span class="client-singular">is</span><span class="client-plural">are</span> <span id="clients" class="label label-default"></span> <span class="client-singular">person</span><span class="client-plural">people</span> looking at the button right now.</p>
	</body>
</html>
